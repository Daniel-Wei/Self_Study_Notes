## ğŸ§© redux-thunkï¼šå…è®¸ dispatch å‡½æ•°å¼ actionï¼ˆå¼‚æ­¥é€»è¾‘çš„å…³é”®ï¼‰

### 1. ğŸš« æ™®é€š Redux åªå…è®¸ dispatch â€œå¯¹è±¡â€

#### åœ¨çº¯ Redux é‡Œï¼Œdispatch åªèƒ½å‘å¯¹è±¡ï¼š
```js
store.dispatch({ type: 'USER_FETCH_START' });
```

### å¦‚æœä½ å†™ï¼š
```js
store.dispatch(() => console.log('hello'));
```

#### Redux ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒä¸çŸ¥é“â€œå‡½æ•°â€æ˜¯ä»€ä¹ˆ actionã€‚

### 2. âœ… redux-thunk çš„ä½œç”¨

#### redux-thunk å…è®¸ä½  dispatch ä¸€ä¸ªå‡½æ•°ã€‚

#### ä¾‹å­ï¼š
```js
// thunk actionï¼ˆä¸€ä¸ªå‡½æ•°ï¼‰
function fetchUser() {
  return async function (dispatch) {
    dispatch({ type: 'USER_FETCH_START' });

    try {
      const res = await fetch('/api/user');
      const data = await res.json();

      dispatch({ type: 'USER_FETCH_SUCCESS', payload: data });
    } catch (err) {
      dispatch({ type: 'USER_FETCH_ERROR', error: err });
    }
  };
}

// ç°åœ¨ä½ å¯ä»¥ dispatch è¿™ä¸ªå‡½æ•°äº†ï¼
store.dispatch(fetchUser());
```

### 3. ğŸ” redux-thunk åœ¨è¿™é‡Œåšçš„äº‹ï¼š

#### å½“ä½  dispatch ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶æŠŠ dispatch å’Œ getState ä¼ è¿›å»ã€‚
#### è¿™æ ·ä½ å°±èƒ½åœ¨å‡½æ•°é‡Œå†™å¼‚æ­¥é€»è¾‘ï¼ˆfetchã€await ç­‰ï¼‰ï¼Œå¹¶æ ¹æ®ç»“æœå‘ä¸åŒçš„ actionã€‚

### 4. ğŸ’¬ ç®€å•æ¯”å–»ï¼š

- æ²¡æœ‰ thunk æ—¶ï¼šdispatch åªèƒ½å‘â€œå‘½ä»¤â€ã€‚
- æœ‰ thunk æ—¶ï¼šdispatch èƒ½å‘â€œè®¡åˆ’â€ï¼ˆå‡½æ•°ï¼‰ï¼ŒRedux å¸®ä½ æ‰§è¡Œè®¡åˆ’é‡Œçš„æ­¥éª¤ã€‚
