<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8">
        <title>箭头函数</title>
        <script>
            // 特点 1
            // 箭头函数中没有arguments, 但是可以使用剩余参数
            function func(v1, v2, ...args){
                console.log(arguments.length);
                console.log(args);
            }
            func(1, 2, 3, 4); // 4 [3, 4]

            const fn1 = () => {
                console.log(arguments.length);
            }
            // fn1(); // Uncaught ReferenceError: arguments is not defined

            const fn2 = (...args) => {
                console.log(args);
            }
            fn2(); // []

            // 特点2
            // 箭头函数中没有自己的this: 它的this总是外层作用域的this
            const fn3 = () => {
                console.log(this);
            }
            // Window {window: Window, self: Window, document: document, name: '', location: Location, …}
            fn3();

            const obj = {
                helloFunc: function(){
                    console.log(this);
                },
                helloFuncShort: () => {
                    console.log(this);
                }
            }

            // {helloFunc: ƒ, helloFuncShort: ƒ}
            obj.helloFunc();
            // Window
            obj.helloFuncShort();

            const obj2 = {
                hello: function(){
                    const test = () => {
                        console.log(this);
                    }

                    test();
                }
            }

            // {hello: ƒ}
            obj2.hello();

            // 特点3
            // 箭头函数的this无法通过call(), apply(), bind() 修改

            // 特点4
            // 箭头函数无法作为构造函数使用

            const fn4 = () => ({name: 'Daniel Wei', age: 30, gender: 'Male'});
            // Uncaught TypeError: fn4 is not a constructor
            // let x = new fn4();

            const constructorFunc = function() {
                return (
                {
                    name: 'Daniel Wei',
                    age: 30,
                    gender: 'Male'
                });
            }
            // {name: 'Daniel Wei', age: 30, gender: 'Male'}
            console.log(new constructorFunc());

        </script> 
    </head>
    <body>
         
    </body>
</html> 
